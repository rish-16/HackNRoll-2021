(this.webpackJsonpstreamlit_player=this.webpackJsonpstreamlit_player||[]).push([[0],{28:function(e,t,n){e.exports=n(57)},57:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),o=n(24),l=n.n(o),i=n(8),c=n(9),s=n(0),u=n(3),g=n(1),p=n(2),d=n(19),v=n(26),h=n.n(v),f=n(7),y=n(27),m=function(e){var t=e.children,n=e.fixedHeight,o=e.onChange,l=Object(r.useState)(null),i=Object(f.a)(l,2),c=i[0],s=i[1],u=Object(r.useCallback)(o,[]);return Object(r.useEffect)((function(){if(u(n||document.body.scrollHeight),!n&&c){var e=new y.a((function(e){var t=e.find((function(e){return e.target===c}));t&&u(t.contentRect.height)}));return e.observe(c),function(){e.disconnect()}}}),[c,n,u]),a.a.createElement("div",{ref:function(e){return s(e)}},t)},b=function(e){Object(g.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).player=void 0,r.getRangeContainingTime=function(e){return r.props.args.ranges.forEach((function(t){return e>=t.start&&e<=t.end?t:e<t.start?null:void 0})),null},r.getNextRangeForTime=function(e){for(var t=r.props.args.ranges,n=0;n<t.length;n++){var a=t[n];if(e>=a.start&&e<=a.end)return null;if(e<a.start)return a}return null},r.onProgress=function(e){var t,n,a=e.playedSeconds;if(null!==(null===(t=r.player)||void 0===t?void 0:t.current)&&void 0!==(null===(n=r.player)||void 0===n?void 0:n.current)){console.log("onProgress");var o=r.getNextRangeForTime(a);null!==o&&(r.player.current.seekTo(o.start),r.setState({playing:!0}))}},r.player=a.a.createRef(),r.state={playerEvents:{},playing:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e={};this.props.args.events.forEach((function(t){e[t]=function(e){d.a.setComponentValue({name:t,data:e})}})),this.setState({playerEvents:e})}},{key:"render",value:function(){var e,t=this.props.args,n=t.url,r=t.height,o=t.loop,l=t.controls,s=t.light,u=t.volume,g=t.muted,p=t.playbackRate,v=(t.progressInterval,t.playInline),f=t.config,y=(t.time,this.state),b=y.playerEvents,E=y.playing;null!==this.player.current&&void 0!==this.player.current&&(e=this.player.current.getDuration());var j="rgba(0,0,255,1) 0%, ";if(console.log("render"),console.log(e),void 0!==e&&null!==e){var O,k=this.props.args.ranges,x=0,R=Object(c.a)(k);try{for(R.s();!(O=R.n()).done;){var C=O.value,w=C.start/e*100,F=C.end/e*100;j+="".concat("#1F958B"," ").concat((x+w)/2,"%, "),j+="".concat("#E8E419"," ").concat(w,"%, "),j+="".concat("#E8E419"," ").concat(F,"%, "),x=F}}catch(H){R.e(H)}finally{R.f()}}j=j.slice(0,j.length-2);var S=Object(i.a)({height:25,width:"calc(100%-12*2px)",margin:"0 12px"},j&&{background:"linear-gradient(90deg, ".concat(j,")")});return console.log(S),a.a.createElement(a.a.Fragment,null,a.a.createElement(m,{onChange:d.a.setFrameHeight,fixedHeight:r},a.a.createElement(h.a,Object.assign({ref:this.player,url:n,width:"100%",height:r||void 0,playing:E,loop:o||void 0,controls:l||void 0,light:s||void 0,volume:u,muted:g||void 0,playbackRate:p,progressInterval:200,playsinline:v||void 0,config:f||void 0},b,{onProgress:this.onProgress})),a.a.createElement("div",{id:"heatmap",style:S})))}}]),n}(r.Component),E=Object(d.b)(b);l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.782edf54.chunk.js.map